<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="repository.non_auth.board.TeamRecruitmentBoardMapper">

    <select id = "teamRecruitmentList" resultType = "domain.board.TeamRecruitmentBoard">
        SELECT b.name AS writer, c.name AS teamName, a.postDate, a.content
        FROM footballmatching.team_recruitment_board AS a
        LEFT JOIN footballmatching.user AS b
        ON a.user_idx = b.idx
        LEFT JOIN footballmatching.team AS c
        ON a.team_id = c.id;
    </select>

    <select id = "teamName" parameterType="string" resultType = "domain.board.TeamRecruitmentBoard">
        SELECT b.name AS writer, c.name AS teamName, a.postDate, a.content
        FROM footballmatching.team_recruitment_board AS a
        LEFT JOIN footballmatching.user AS b
        ON a.user_idx = b.idx
        LEFT JOIN footballmatching.team AS c
        ON a.team_id = c.id
        WHERE c.name = #{teamName};
    </select>

    <select id = "writer" parameterType="string" resultType = "domain.board.TeamRecruitmentBoard">
        SELECT b.name AS writer, c.name AS teamName, a.postDate, a.content
        FROM footballmatching.team_recruitment_board AS a
        LEFT JOIN footballmatching.user AS b
        ON a.user_idx = b.idx
        LEFT JOIN footballmatching.team AS c
        ON a.team_id = c.id
        WHERE b.name = #{writer};
    </select>

</mapper>